{"ast":null,"code":"import _initializerDefineProperty from \"C:\\\\Users\\\\ldk0225\\\\Desktop\\\\full-stack\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"C:\\\\Users\\\\ldk0225\\\\Desktop\\\\full-stack\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"C:\\\\Users\\\\ldk0225\\\\Desktop\\\\full-stack\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3, _class2, _temp;\n\nimport FriendRepositroy from '../Repository/friendRepository';\nimport { observable } from 'mobx';\nimport FriendVO from '../ValueObject/FriendVO';\nimport SearchFriendRepository from '../Repository/SearchFriendRepository';\nlet FriendModel = (_class = (_temp = _class2 = class FriendModel {\n  //singleton\n  constructor() {\n    _initializerDefineProperty(this, \"data\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"myInfo\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"friend\", _descriptor3, this);\n\n    this.loadMyInfo();\n    this.loadFriendList();\n  }\n\n  static getInstance() {\n    if (!this._FriendModel) {\n      this._FriendModel = new FriendModel();\n    }\n\n    return this._FriendModel;\n  } //친구목록받아오기\n\n\n  loadFriendList() {\n    FriendRepositroy.getFriendList(sessionStorage.getItem('id')).then(d => {\n      const len = d.data.friendList.length;\n\n      for (let i = 0; i < len; i++) {\n        const Friend = JSON.parse(d.data.friendList[i]);\n        this.data.push(new FriendVO(Friend.id, Friend.nickName, Friend.message));\n      }\n    }).catch(err => {\n      new Error(err);\n    });\n  } //내정보\n\n\n  loadMyInfo() {\n    FriendRepositroy.getMyInfo(sessionStorage.getItem('id')).then(d => {\n      this.myInfo = new FriendVO(d.data.id, d.data.name, d.data.message);\n    }).catch(err => {\n      new Error(err);\n    });\n  }\n\n  loadsearchFriend(id) {\n    SearchFriendRepository.loadsearchFriend(id).then(d => {\n      this.friend = new FriendVO(d.data[0].id, d.data[0].nickName, d.data[0].message);\n    }).catch(err => {\n      new Error(err);\n    });\n  }\n\n  AddSearchFriend() {\n    SearchFriendRepository.AddSearchFriend(this.friend).then(d => {\n      if (d.data) {}\n    }).catch(err => {});\n  }\n\n  get SearchFriend() {\n    return this.friend;\n  }\n\n  get getFriendList() {\n    return this.data;\n  }\n\n  get getMyInfo() {\n    return this.myInfo;\n  }\n\n}, _class2._FriendModel = void 0, _temp), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"data\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"myInfo\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return new FriendVO('', '', '');\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"friend\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return new FriendVO('', '', '');\n  }\n})), _class);\nexport { FriendModel as default };","map":{"version":3,"sources":["C:/Users/ldk0225/Desktop/full-stack/front/src/pages/mainBoard/Model/friendModel.ts"],"names":["FriendRepositroy","observable","FriendVO","SearchFriendRepository","FriendModel","constructor","loadMyInfo","loadFriendList","getInstance","_FriendModel","getFriendList","sessionStorage","getItem","then","d","len","data","friendList","length","i","Friend","JSON","parse","push","id","nickName","message","catch","err","Error","getMyInfo","myInfo","name","loadsearchFriend","friend","AddSearchFriend","SearchFriend"],"mappings":"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","sourcesContent":["import FriendRepositroy, { IFriendList } from '../Repository/friendRepository';\r\nimport { observable, action } from 'mobx';\r\nimport FriendVO from '../ValueObject/FriendVO';\r\nimport SearchFriendRepository from '../Repository/SearchFriendRepository';\r\n\r\nexport default class FriendModel {\r\n    private static _FriendModel : FriendModel;\r\n    @observable private data:any = [];\r\n    @observable private myInfo:FriendVO = new FriendVO('','','');\r\n    @observable private friend:FriendVO = new FriendVO('','','');\r\n    //singleton\r\n    private constructor () {\r\n        this.loadMyInfo();\r\n        this.loadFriendList();\r\n    }\r\n    public static getInstance() : FriendModel {\r\n        if(!this._FriendModel) {\r\n           this._FriendModel = new FriendModel();\r\n        } \r\n        return this._FriendModel;\r\n    }\r\n    \r\n    //친구목록받아오기\r\n    private loadFriendList() : void {\r\n        FriendRepositroy.getFriendList(sessionStorage.getItem('id'))\r\n        .then((d : any) => {\r\n           const len = d.data.friendList.length;\r\n            for(let i=0; i<len; i++) {\r\n                const Friend = JSON.parse(d.data.friendList[i]);\r\n                this.data.push(new FriendVO(Friend.id, Friend.nickName, Friend.message));\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            new Error(err);\r\n        });\r\n    }\r\n\r\n    //내정보\r\n    public loadMyInfo() : void {\r\n        FriendRepositroy.getMyInfo(sessionStorage.getItem('id'))\r\n        .then((d :any) => {\r\n            this.myInfo = new FriendVO(d.data.id, d.data.name, d.data.message);\r\n        })\r\n        .catch((err) => {\r\n            new Error(err);\r\n        });\r\n    }\r\n\r\n    loadsearchFriend(id:string) {\r\n        SearchFriendRepository.loadsearchFriend(id)\r\n        .then((d) => {\r\n            this.friend = new FriendVO(d.data[0].id , d.data[0].nickName, d.data[0].message );\r\n        })\r\n        .catch((err) => {   \r\n            new Error(err);\r\n        });\r\n    }\r\n\r\n    AddSearchFriend() {\r\n        SearchFriendRepository.AddSearchFriend(this.friend)\r\n        .then((d) => {\r\n            if(d.data) {\r\n                    \r\n            }\r\n        })\r\n        .catch((err) => {\r\n\r\n        });\r\n    }\r\n\r\n\r\n    get SearchFriend() {\r\n        return this.friend;\r\n    }\r\n\r\n\r\n    get getFriendList() : IFriendList| [] {\r\n        return this.data;\r\n    }\r\n\r\n    get getMyInfo() : FriendVO {\r\n        return this.myInfo;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}